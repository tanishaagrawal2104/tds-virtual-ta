<!DOCTYPE html>
<!-- saved from url=(0045)https://tds.s-anand.net/#/transforming-images -->
<html lang="en" class="themeable"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
  <meta name="viewport" content="width=device-width,initial-scale=1">
  
  <title>Transforming Images</title>
  <link rel="icon" href="https://raw.githubusercontent.com/gramener/assets/main/straive-favicon.svg">
  <link rel="stylesheet" media="(prefers-color-scheme: dark)" href="./Transforming Images_files/theme-simple-dark.css">
  <link rel="stylesheet" media="(prefers-color-scheme: light)" href="./Transforming Images_files/theme-simple.css">
  <style>
    /* Add a YouTube icon on top of all YouTube links with images */
    a[href*="youtu"]:has(img[src*="ytimg"]) {
      position: relative;
      display: inline-block;
    }

    a[href*="youtu"]:has(img[src*="ytimg"])::after {
      content: "";
      position: absolute;
      left: 50%;
      top: 50%;
      width: 100px;
      height: 100px;
      background: url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="red" class="bi bi-youtube" viewBox="0 0 16 16"><path d="M8.051 1.999h.089c.822.003 4.987.033 6.11.335a2.01 2.01 0 0 1 1.415 1.42c.101.38.172.883.22 1.402l.01.104.022.26.008.104c.065.914.073 1.77.074 1.957v.075c-.001.194-.01 1.108-.082 2.06l-.008.105-.009.104c-.05.572-.124 1.14-.235 1.558a2.01 2.01 0 0 1-1.415 1.42c-1.16.312-5.569.334-6.18.335h-.142c-.309 0-1.587-.006-2.927-.052l-.17-.006-.087-.004-.171-.007-.171-.007c-1.11-.049-2.167-.128-2.654-.26a2.01 2.01 0 0 1-1.415-1.419c-.111-.417-.185-.986-.235-1.558L.09 9.82l-.008-.104A31 31 0 0 1 0 7.68v-.123c.002-.215.01-.958.064-1.778l.007-.103.003-.052.008-.104.022-.26.01-.104c.048-.519.119-1.023.22-1.402a2.01 2.01 0 0 1 1.415-1.42c.487-.13 1.544-.21 2.654-.26l.17-.007.172-.006.086-.003.171-.007A100 100 0 0 1 7.858 2z"/><path d="M6.4 5.209v4.818l4.157-2.408z" fill="white"/></svg>') no-repeat center center;
      background-size: contain;
      transform: translate(-50%, -50%);
      pointer-events: none;
    }

  </style>
<style type="text/css">.medium-zoom-overlay{position:fixed;top:0;right:0;bottom:0;left:0;opacity:0;transition:opacity .3s;will-change:opacity}.medium-zoom--opened .medium-zoom-overlay{cursor:pointer;cursor:zoom-out;opacity:1}.medium-zoom-image{cursor:pointer;cursor:zoom-in;transition:transform .3s cubic-bezier(.2,0,.2,1)!important}.medium-zoom-image--hidden{visibility:hidden}.medium-zoom-image--opened{position:relative;cursor:pointer;cursor:zoom-out;will-change:transform}</style><style type="text/css">.docsify-pagination-container{display:flex;flex-wrap:wrap;justify-content:space-between;overflow:hidden;margin:5em 0 1em;border-top:1px solid rgba(0,0,0,.07)}.pagination-item{margin-top:2.5em}.pagination-item a,.pagination-item a:hover{text-decoration:none}.pagination-item a{color:currentColor}.pagination-item a:hover .pagination-item-title{text-decoration:underline}.pagination-item:not(:last-child) a .pagination-item-label,.pagination-item:not(:last-child) a .pagination-item-subtitle,.pagination-item:not(:last-child) a .pagination-item-title{opacity:.3;transition:all .2s}.pagination-item:last-child .pagination-item-label,.pagination-item:not(:last-child) a:hover .pagination-item-label{opacity:.6}.pagination-item:not(:last-child) a:hover .pagination-item-title{opacity:1}.pagination-item-label{font-size:.8em}.pagination-item-label>*{line-height:1;vertical-align:middle}.pagination-item-label svg{height:.8em;width:auto;stroke:currentColor;stroke-linecap:round;stroke-linejoin:round;stroke-width:1px}.pagination-item--next{margin-left:auto;text-align:right}.pagination-item--next svg{margin-left:.5em}.pagination-item--previous svg{margin-right:.5em}.pagination-item-title{font-size:1.6em}.pagination-item-subtitle{text-transform:uppercase;opacity:.3}</style><style type="text/css">.docsify-copy-code-button,.docsify-copy-code-button>span{cursor:pointer;transition:all .25s ease}.docsify-copy-code-button{background:grey;background:var(--theme-color,grey);border:0;border-radius:0;color:#fff;font-size:1em;opacity:0;outline:0;overflow:visible;padding:.65em .8em;position:absolute;right:0;top:0;z-index:1}.docsify-copy-code-button>span{background:inherit;border-radius:3px;pointer-events:none}.docsify-copy-code-button>.error,.docsify-copy-code-button>.success{font-size:.825em;opacity:0;padding:.5em .65em;position:absolute;right:0;top:50%;transform:translateY(-50%);z-index:-100}.docsify-copy-code-button.error>.error,.docsify-copy-code-button.success>.success{opacity:1;right:100%;transform:translate(-25%,-50%)}.docsify-copy-code-button:focus,pre:hover .docsify-copy-code-button{opacity:1}.docsify-copy-code-button>[aria-live]{height:1px;left:-10000px;overflow:hidden;position:absolute;top:auto;width:1px}</style><style type="text/css">.sidebar-nav > ul > li ul {
  display: none;
}

.app-sub-sidebar {
  display: none;
}

.app-sub-sidebar.open {
  display: block;
}

.sidebar-nav .open > ul:not(.app-sub-sidebar),
.sidebar-nav .active:not(.collapse) > ul {
  display: block;
}

/* 抖动 */
.sidebar-nav li.open:not(.collapse) > ul {
  display: block;
}

.active + ul.app-sub-sidebar {
  display: block;
}
</style><style type="text/css">@media screen and (max-width: 768px) {
  /* 移动端适配 */
  .markdown-section {
    max-width: none;
    padding: 16px;
  }
  /* 改变原来按钮热区大小 */
  .sidebar-toggle {
    padding: 0 0 10px 10px;
  }
  /* my pin */
  .sidebar-pin {
    appearance: none;
    outline: none;
    position: fixed;
    bottom: 0;
    border: none;
    width: 40px;
    height: 40px;
    background: transparent;
  }
}
</style><style>:root{--theme-color: #dc3545;}</style><style>
.sidebar {
  padding-top: 0;
}

.search {
  margin-bottom: 20px;
  padding: 6px;
  border-bottom: 1px solid #eee;
}

.search .input-wrap {
  display: flex;
  align-items: center;
}

.search .results-panel {
  display: none;
}

.search .results-panel.show {
  display: block;
}

.search input {
  outline: none;
  border: none;
  width: 100%;
  padding: 0.6em 7px;
  font-size: inherit;
  border: 1px solid transparent;
}

.search input:focus {
  box-shadow: 0 0 5px var(--theme-color, #42b983);
  border: 1px solid var(--theme-color, #42b983);
}

.search input::-webkit-search-decoration,
.search input::-webkit-search-cancel-button,
.search input {
  -webkit-appearance: none;
  -moz-appearance: none;
  appearance: none;
}

.search input::-ms-clear {
  display: none;
  height: 0;
  width: 0;
}

.search .clear-button {
  cursor: pointer;
  width: 36px;
  text-align: right;
  display: none;
}

.search .clear-button.show {
  display: block;
}

.search .clear-button svg {
  transform: scale(.5);
}

.search h2 {
  font-size: 17px;
  margin: 10px 0;
}

.search a {
  text-decoration: none;
  color: inherit;
}

.search .matching-post {
  border-bottom: 1px solid #eee;
}

.search .matching-post:last-child {
  border-bottom: 0;
}

.search p {
  font-size: 14px;
  overflow: hidden;
  text-overflow: ellipsis;
  display: -webkit-box;
  -webkit-line-clamp: 2;
  -webkit-box-orient: vertical;
}

.search p.empty {
  text-align: center;
}

.app-name.hide, .sidebar-nav.hide {
  display: none;
}</style><style></style><style></style><style></style><style></style><style></style><style></style><style></style><style></style></head>

<body data-platform="Win32" class="ready sticky ready-fix vsc-initialized" data-page="transforming-images.md" data-new-gr-c-s-check-loaded="14.1239.0" data-gr-ext-installed="">
  <main><button class="sidebar-toggle" aria-label="Menu"><div class="sidebar-toggle-button"><span></span><span></span><span></span></div></button><aside class="sidebar"><div class="search"><div class="input-wrap">
      <input type="search" value="" aria-label="Search text" placeholder="Type to search">
      <button class="clear-button" aria-label="Clear search">
                <svg width="16" height="16" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg">
                    <circle cx="8" cy="8" r="8" fill="black"></circle>
                    <path stroke="white" stroke-width="1.5" d="M4.5,4.5,11.5,11.5" vector-effect="non-scaling-stroke"></path>
                    <path stroke="white" stroke-width="1.5" d="M4.5,11.5,11.5,4.5" vector-effect="non-scaling-stroke"></path>
                </svg>
            </button>
    </div>
    <div class="results-panel"></div>
    </div><h1 class="app-name"><a class="app-name-link" data-nosearch="" href="https://tds.s-anand.net/">Tools in Data Science</a></h1><div class="sidebar-nav"><ul><li class="file"><a href="https://tds.s-anand.net/#/README" title="Tools in Data Science">Tools in Data Science</a></li><li class="folder level-1"><a href="https://tds.s-anand.net/#/development-tools" title="1. Development Tools">1. Development Tools</a><ul><li class="file"><a href="https://tds.s-anand.net/#/vscode" title="Editor: VS Code">Editor: VS Code</a></li><li class="file"><a href="https://tds.s-anand.net/#/github-copilot" title="AI Code Editors: GitHub Copilot">AI Code Editors: GitHub Copilot</a></li><li class="file"><a href="https://tds.s-anand.net/#/uv" title="Python tools: uv">Python tools: uv</a></li><li class="file"><a href="https://tds.s-anand.net/#/npx" title="JavaScript tools: npx">JavaScript tools: npx</a></li><li class="file"><a href="https://tds.s-anand.net/#/unicode" title="Unicode">Unicode</a></li><li class="file"><a href="https://tds.s-anand.net/#/devtools" title="Browser: DevTools">Browser: DevTools</a></li><li class="file"><a href="https://tds.s-anand.net/#/css-selectors" title="CSS Selectors">CSS Selectors</a></li><li class="file"><a href="https://tds.s-anand.net/#/json" title="JSON">JSON</a></li><li class="file"><a href="https://tds.s-anand.net/#/bash" title="Terminal: Bash">Terminal: Bash</a></li><li class="file"><a href="https://tds.s-anand.net/#/llm" title="AI Terminal Tools: llm">AI Terminal Tools: llm</a></li><li class="file"><a href="https://tds.s-anand.net/#/spreadsheets" title="Spreadsheet: Excel, Google Sheets">Spreadsheet: Excel, Google Sheets</a></li><li class="file"><a href="https://tds.s-anand.net/#/sqlite" title="Database: SQLite">Database: SQLite</a></li><li class="file"><a href="https://tds.s-anand.net/#/git" title="Version Control: Git, GitHub">Version Control: Git, GitHub</a></li></ul></li><li class="folder level-1"><a href="https://tds.s-anand.net/#/deployment-tools" title="2. Deployment Tools">2. Deployment Tools</a><ul><li class="file"><a href="https://tds.s-anand.net/#/markdown" title="Markdown">Markdown</a></li><li class="file"><a href="https://tds.s-anand.net/#/image-compression" title="Images: Compression">Images: Compression</a></li><li class="file"><a href="https://tds.s-anand.net/#/github-pages" title="Static hosting: GitHub Pages">Static hosting: GitHub Pages</a></li><li class="file"><a href="https://tds.s-anand.net/#/colab" title="Notebooks: Google Colab">Notebooks: Google Colab</a></li><li class="file"><a href="https://tds.s-anand.net/#/vercel" title="Serverless hosting: Vercel">Serverless hosting: Vercel</a></li><li class="file"><a href="https://tds.s-anand.net/#/github-actions" title="CI/CD: GitHub Actions">CI/CD: GitHub Actions</a></li><li class="file"><a href="https://tds.s-anand.net/#/docker" title="Containers: Docker, Podman">Containers: Docker, Podman</a></li><li class="file"><a href="https://tds.s-anand.net/#/github-codespaces" title="DevContainers: GitHub Codespaces">DevContainers: GitHub Codespaces</a></li><li class="file"><a href="https://tds.s-anand.net/#/ngrok" title="Tunneling: ngrok">Tunneling: ngrok</a></li><li class="file"><a href="https://tds.s-anand.net/#/cors" title="CORS">CORS</a></li><li class="file"><a href="https://tds.s-anand.net/#/rest-apis" title="REST APIs">REST APIs</a></li><li class="file"><a href="https://tds.s-anand.net/#/fastapi" title="Web Framework: FastAPI">Web Framework: FastAPI</a></li><li class="file"><a href="https://tds.s-anand.net/#/google-auth" title="Authentication: Google Auth">Authentication: Google Auth</a></li><li class="file"><a href="https://tds.s-anand.net/#/ollama" title="Local LLMs: Ollama">Local LLMs: Ollama</a></li></ul></li><li class="folder level-1"><a href="https://tds.s-anand.net/#/large-language-models" title="3. Large Language Models">3. Large Language Models</a><ul><li class="file"><a href="https://tds.s-anand.net/#/prompt-engineering" title="Prompt engineering">Prompt engineering</a></li><li class="file"><a href="https://tds.s-anand.net/#/tds-ta-instructions" title="TDS TA Instructions">TDS TA Instructions</a></li><li class="file"><a href="https://tds.s-anand.net/#/tds-gpt-reviewer" title="TDS GPT Reviewer">TDS GPT Reviewer</a></li><li class="file"><a href="https://tds.s-anand.net/#/llm-sentiment-analysis" title="LLM Sentiment Analysis">LLM Sentiment Analysis</a></li><li class="file"><a href="https://tds.s-anand.net/#/llm-text-extraction" title="LLM Text Extraction">LLM Text Extraction</a></li><li class="file"><a href="https://tds.s-anand.net/#/base64-encoding" title="Base 64 Encoding">Base 64 Encoding</a></li><li class="file"><a href="https://tds.s-anand.net/#/vision-models" title="Vision Models">Vision Models</a></li><li class="file"><a href="https://tds.s-anand.net/#/embeddings" title="Embeddings">Embeddings</a></li><li class="file"><a href="https://tds.s-anand.net/#/multimodal-embeddings" title="Multimodal Embeddings">Multimodal Embeddings</a></li><li class="file"><a href="https://tds.s-anand.net/#/topic-modeling" title="Topic modeling">Topic modeling</a></li><li class="file"><a href="https://tds.s-anand.net/#/vector-databases" title="Vector databases">Vector databases</a></li><li class="file"><a href="https://tds.s-anand.net/#/rag-cli" title="RAG with the CLI)">RAG with the CLI)</a></li><li class="file"><a href="https://tds.s-anand.net/#/hybrid-rag-typesense" title="Hybrid RAG with TypeSense">Hybrid RAG with TypeSense</a></li><li class="file"><a href="https://tds.s-anand.net/#/function-calling" title="Function Calling">Function Calling</a></li><li class="file"><a href="https://tds.s-anand.net/#/llm-agents" title="LLM Agents">LLM Agents</a></li><li class="file"><a href="https://tds.s-anand.net/#/llm-image-generation" title="LLM Image Generation">LLM Image Generation</a></li><li class="file"><a href="https://tds.s-anand.net/#/llm-speech" title="LLM Speech">LLM Speech</a></li><li class="file"><a href="https://tds.s-anand.net/#/llm-evals" title="LLM Evals">LLM Evals</a></li></ul></li><li class="file"><a href="https://tds.s-anand.net/#/project-tds-virtual-ta" title="Project 1">Project 1</a></li><li class="folder level-1"><a href="https://tds.s-anand.net/#/data-sourcing" title="4. Data Sourcing">4. Data Sourcing</a><ul><li class="file"><a href="https://tds.s-anand.net/#/scraping-with-excel" title="Scraping with Excel">Scraping with Excel</a></li><li class="file"><a href="https://tds.s-anand.net/#/scraping-with-google-sheets" title="Scraping with Google Sheets">Scraping with Google Sheets</a></li><li class="file"><a href="https://tds.s-anand.net/#/crawling-cli" title="Crawling with the CLI">Crawling with the CLI</a></li><li class="file"><a href="https://tds.s-anand.net/#/bbc-weather-api-with-python" title="BBC Weather API with Python">BBC Weather API with Python</a></li><li class="file"><a href="https://tds.s-anand.net/#/scraping-imdb-with-javascript" title="Scraping IMDb with JavaScript">Scraping IMDb with JavaScript</a></li><li class="file"><a href="https://tds.s-anand.net/#/nominatim-api-with-python" title="Nominatim API with Python">Nominatim API with Python</a></li><li class="file"><a href="https://tds.s-anand.net/#/wikipedia-data-with-python" title="Wikipedia Data with Python">Wikipedia Data with Python</a></li><li class="file"><a href="https://tds.s-anand.net/#/scraping-pdfs-with-tabula" title="Scraping PDFs with Tabula">Scraping PDFs with Tabula</a></li><li class="file"><a href="https://tds.s-anand.net/#/convert-pdfs-to-markdown" title="Convert PDFs to Markdown">Convert PDFs to Markdown</a></li><li class="file"><a href="https://tds.s-anand.net/#/convert-html-to-markdown" title="Convert HTML to Markdown">Convert HTML to Markdown</a></li><li class="file"><a href="https://tds.s-anand.net/#/llm-website-scraping" title="LLM Website Scraping">LLM Website Scraping</a></li><li class="file"><a href="https://tds.s-anand.net/#/llm-video-screen-scraping" title="LLM Video Screen-Scraping">LLM Video Screen-Scraping</a></li><li class="file"><a href="https://tds.s-anand.net/#/web-automation-with-playwright" title="Web Automation with Playwright">Web Automation with Playwright</a></li><li class="file"><a href="https://tds.s-anand.net/#/scheduled-scraping-with-github-actions" title="Scheduled Scraping with GitHub Actions">Scheduled Scraping with GitHub Actions</a></li><li class="file"><a href="https://tds.s-anand.net/#/scraping-emarketer" title="Scraping emarketer.com">Scraping emarketer.com</a></li><li class="file"><a href="https://tds.s-anand.net/#/scraping-live-sessions" title="Scraping: Live Sessions">Scraping: Live Sessions</a></li></ul></li><li class="open folder level-1"><a href="https://tds.s-anand.net/#/data-preparation" title="5. Data Preparation">5. Data Preparation</a><ul><li class="file"><a href="https://tds.s-anand.net/#/data-cleansing-in-excel" title="Data Cleansing in Excel">Data Cleansing in Excel</a></li><li class="file"><a href="https://tds.s-anand.net/#/data-transformation-in-excel" title="Data Transformation in Excel">Data Transformation in Excel</a></li><li class="file"><a href="https://tds.s-anand.net/#/splitting-text-in-excel" title="Splitting Text in Excel">Splitting Text in Excel</a></li><li class="file"><a href="https://tds.s-anand.net/#/data-aggregation-in-excel" title="Data Aggregation in Excel">Data Aggregation in Excel</a></li><li class="file"><a href="https://tds.s-anand.net/#/data-preparation-in-the-shell" title="Data Preparation in the Shell">Data Preparation in the Shell</a></li><li class="file"><a href="https://tds.s-anand.net/#/data-preparation-in-the-editor" title="Data Preparation in the Editor">Data Preparation in the Editor</a></li><li class="file"><a href="https://tds.s-anand.net/#/data-preparation-in-duckdb" title="Data Preparation in DuckDB">Data Preparation in DuckDB</a></li><li class="file"><a href="https://tds.s-anand.net/#/cleaning-data-with-openrefine" title="Cleaning Data with OpenRefine">Cleaning Data with OpenRefine</a></li><li class="file"><a href="https://tds.s-anand.net/#/parsing-json" title="Parsing JSON">Parsing JSON</a></li><li class="file"><a href="https://tds.s-anand.net/#/dbt" title="Data Transformation with dbt">Data Transformation with dbt</a></li><li class="active open file"><a href="https://tds.s-anand.net/#/transforming-images" title="Transforming Images">Transforming Images</a><ul class="app-sub-sidebar"><li class="file"><a class="section-link" href="https://tds.s-anand.net/#/transforming-images?id=transforming-images" title="Transforming Images">Transforming Images</a></li></ul></li><li class="file"><a href="https://tds.s-anand.net/#/extracting-audio-and-transcripts" title="Extracting Audio and Transcripts">Extracting Audio and Transcripts</a><!-- #TODO Stitching together podcasts from snippets using SoX? --></li></ul></li><li class="folder level-1"><a href="https://tds.s-anand.net/#/data-analysis" title="6. Data Analysis">6. Data Analysis</a><ul><li class="file"><a href="https://tds.s-anand.net/#/correlation-with-excel" title="Correlation with Excel">Correlation with Excel</a></li><li class="file"><a href="https://tds.s-anand.net/#/regression-with-excel" title="Regression with Excel">Regression with Excel</a></li><li class="file"><a href="https://tds.s-anand.net/#/forecasting-with-excel" title="Forecasting with Excel">Forecasting with Excel</a></li><li class="file"><a href="https://tds.s-anand.net/#/outlier-detection-with-excel" title="Outlier Detection with Excel">Outlier Detection with Excel</a></li><li class="file"><a href="https://tds.s-anand.net/#/data-analysis-with-python" title="Data Analysis with Python">Data Analysis with Python</a></li><li class="file"><a href="https://tds.s-anand.net/#/data-analysis-with-sql" title="Data Analysis with SQL">Data Analysis with SQL</a></li><li class="file"><a href="https://tds.s-anand.net/#/data-analysis-with-datasette" title="Data Analysis with Datasette">Data Analysis with Datasette</a></li><li class="file"><a href="https://tds.s-anand.net/#/data-analysis-with-duckdb" title="Data Analysis with DuckDB">Data Analysis with DuckDB</a></li><li class="file"><a href="https://tds.s-anand.net/#/data-analysis-with-chatgpt" title="Data Analysis with ChatGPT">Data Analysis with ChatGPT</a></li><li class="file"><a href="https://tds.s-anand.net/#/geospatial-analysis-with-excel" title="Geospatial Analysis with Excel">Geospatial Analysis with Excel</a></li><li class="file"><a href="https://tds.s-anand.net/#/geospatial-analysis-with-python" title="Geospatial Analysis with Python">Geospatial Analysis with Python</a></li><li class="file"><a href="https://tds.s-anand.net/#/geospatial-analysis-with-qgis" title="Geospatial Analysis with QGIS">Geospatial Analysis with QGIS</a></li><li class="file"><a href="https://tds.s-anand.net/#/network-analysis-in-python" title="Network Analysis in Python">Network Analysis in Python</a></li></ul></li><li class="file">Project 2</li><li class="folder level-1"><a href="https://tds.s-anand.net/#/data-visualization" title="7. Data Visualization">7. Data Visualization</a><ul><li class="file"><a href="https://tds.s-anand.net/#/visualizing-forecasts-with-excel" title="Visualizing Forecasts with Excel">Visualizing Forecasts with Excel</a></li><li class="file"><a href="https://tds.s-anand.net/#/visualizing-animated-data-with-powerpoint" title="Visualizing Animated Data with PowerPoint">Visualizing Animated Data with PowerPoint</a></li><li class="file"><a href="https://tds.s-anand.net/#/visualizing-animated-data-with-flourish" title="Visualizing Animated Data with Flourish">Visualizing Animated Data with Flourish</a></li><li class="file"><a href="https://tds.s-anand.net/#/visualizing-network-data-with-kumu" title="Visualizing Network Data with Kumu">Visualizing Network Data with Kumu</a></li><li class="file"><a href="https://tds.s-anand.net/#/visualizing-charts-with-excel" title="Visualizing Charts with Excel">Visualizing Charts with Excel</a></li><li class="file"><a href="https://tds.s-anand.net/#/data-visualization-with-seaborn" title="Data Visualization with Seaborn">Data Visualization with Seaborn</a></li><li class="file"><a href="https://tds.s-anand.net/#/data-visualization-with-chatgpt" title="Data Visualization with ChatGPT">Data Visualization with ChatGPT</a></li><li class="file"><a href="https://tds.s-anand.net/#/actor-network-visualization" title="Actor Network Visualization">Actor Network Visualization</a></li><li class="file"><a href="https://tds.s-anand.net/#/rawgraphs" title="RAWgraphs">RAWgraphs</a></li><li class="file"><a href="https://tds.s-anand.net/#/data-storytelling" title="Data Storytelling">Data Storytelling</a></li><li class="file"><a href="https://tds.s-anand.net/#/narratives-with-llms" title="Narratives with LLMs">Narratives with LLMs</a></li><li class="file"><a href="https://tds.s-anand.net/#/marimo" title="Interactive Notebooks: Marimo">Interactive Notebooks: Marimo</a></li><li class="file"><a href="https://tds.s-anand.net/#/revealjs" title="HTML Slides: RevealJS">HTML Slides: RevealJS</a></li><li class="file"><a href="https://tds.s-anand.net/#/marp" title="Markdown Presentations: Marp">Markdown Presentations: Marp</a></li></ul></li></ul></div></aside><section class="content"><article class="markdown-section" id="main"><h2 id="transforming-images"><a href="https://tds.s-anand.net/#/transforming-images?id=transforming-images" data-id="transforming-images" class="anchor"><span>Transforming Images</span></a></h2><h3 id="image-processing-with-pil-pillow"><a href="https://tds.s-anand.net/#/transforming-images?id=image-processing-with-pil-pillow" data-id="image-processing-with-pil-pillow" class="anchor"><span>Image Processing with PIL (Pillow)</span></a></h3><p><a href="https://youtu.be/6Qs3wObeWwc" target="_blank" rel="noopener"><img src="./Transforming Images_files/sddefault.webp" data-origin="https://i.ytimg.com/vi_webp/6Qs3wObeWwc/sddefault.webp" alt="Python Tutorial: Image Manipulation with Pillow (16 min)"></a></p><p><a href="https://python-pillow.org/" target="_blank" rel="noopener">Pillow</a> is Python’s leading library for image processing, offering powerful tools for editing, analyzing, and generating images. It handles various formats (PNG, JPEG, GIF, etc.) and provides operations from basic resizing to complex filters.</p><p>Here’s a minimal example showing common operations:</p><pre v-pre="" data-lang="python" class="language-python"><code class="lang-python language-python"><span class="token comment"># /// script</span>
<span class="token comment"># requires-python = "&gt;=3.11"</span>
<span class="token comment"># dependencies = ["Pillow"]</span>
<span class="token comment"># ///</span>

<span class="token keyword">from</span> PIL <span class="token keyword">import</span> Image<span class="token punctuation">,</span> ImageEnhance<span class="token punctuation">,</span> ImageFilter

<span class="token keyword">async</span> <span class="token keyword">def</span> <span class="token function">process_image</span><span class="token punctuation">(</span>path<span class="token punctuation">:</span> <span class="token builtin">str</span><span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">&gt;</span> Image<span class="token punctuation">.</span>Image<span class="token punctuation">:</span>
    <span class="token triple-quoted-string string">"""Process an image with basic enhancements."""</span>
    <span class="token keyword">with</span> Image<span class="token punctuation">.</span><span class="token builtin">open</span><span class="token punctuation">(</span>path<span class="token punctuation">)</span> <span class="token keyword">as</span> img<span class="token punctuation">:</span>
        <span class="token comment"># Convert to RGB to ensure compatibility</span>
        img <span class="token operator">=</span> img<span class="token punctuation">.</span>convert<span class="token punctuation">(</span><span class="token string">'RGB'</span><span class="token punctuation">)</span>

        <span class="token comment"># Resize maintaining aspect ratio</span>
        img<span class="token punctuation">.</span>thumbnail<span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token number">800</span><span class="token punctuation">,</span> <span class="token number">800</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

        <span class="token comment"># Apply enhancements</span>
        img <span class="token operator">=</span> <span class="token punctuation">(</span>ImageEnhance<span class="token punctuation">.</span>Contrast<span class="token punctuation">(</span>img<span class="token punctuation">)</span>
               <span class="token punctuation">.</span>enhance<span class="token punctuation">(</span><span class="token number">1.2</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

        <span class="token keyword">return</span> img<span class="token punctuation">.</span><span class="token builtin">filter</span><span class="token punctuation">(</span>ImageFilter<span class="token punctuation">.</span>SHARPEN<span class="token punctuation">)</span>

<span class="token keyword">if</span> __name__ <span class="token operator">==</span> <span class="token string">"__main__"</span><span class="token punctuation">:</span>
    <span class="token keyword">import</span> asyncio
    img <span class="token operator">=</span> asyncio<span class="token punctuation">.</span>run<span class="token punctuation">(</span>process_image<span class="token punctuation">(</span><span class="token string">"input.jpg"</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    img<span class="token punctuation">.</span>save<span class="token punctuation">(</span><span class="token string">"output.jpg"</span><span class="token punctuation">,</span> quality<span class="token operator">=</span><span class="token number">85</span><span class="token punctuation">)</span></code><button class="docsify-copy-code-button"><span class="label">Copy to clipboard</span><span class="error" aria-hidden="hidden">Error</span><span class="success" aria-hidden="hidden">Copied</span><span aria-live="polite"></span></button></pre><p>Key features and techniques you’ll learn:</p><ul><li><strong>Image Loading and Saving</strong>: Handle various formats with automatic conversion</li><li><strong>Basic Operations</strong>: Resize, rotate, crop, and flip images</li><li><strong>Color Manipulation</strong>: Adjust brightness, contrast, and color balance</li><li><strong>Filters and Effects</strong>: Apply blur, sharpen, and other visual effects</li><li><strong>Drawing</strong>: Add text, shapes, and overlays to images</li><li><strong>Batch Processing</strong>: Handle multiple images efficiently</li><li><strong>Memory Management</strong>: Process large images without memory issues</li></ul><h3 id="basic-image-operations"><a href="https://tds.s-anand.net/#/transforming-images?id=basic-image-operations" data-id="basic-image-operations" class="anchor"><span>Basic Image Operations</span></a></h3><p>Common operations for resizing, cropping, and rotating images:</p><pre v-pre="" data-lang="python" class="language-python"><code class="lang-python language-python"><span class="token keyword">from</span> PIL <span class="token keyword">import</span> Image

<span class="token keyword">async</span> <span class="token keyword">def</span> <span class="token function">transform_image</span><span class="token punctuation">(</span>
    path<span class="token punctuation">:</span> <span class="token builtin">str</span><span class="token punctuation">,</span>
    size<span class="token punctuation">:</span> <span class="token builtin">tuple</span><span class="token punctuation">[</span><span class="token builtin">int</span><span class="token punctuation">,</span> <span class="token builtin">int</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    rotation<span class="token punctuation">:</span> <span class="token builtin">float</span> <span class="token operator">=</span> <span class="token number">0</span>
<span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">&gt;</span> Image<span class="token punctuation">.</span>Image<span class="token punctuation">:</span>
    <span class="token triple-quoted-string string">"""Transform image with basic operations."""</span>
    <span class="token keyword">with</span> Image<span class="token punctuation">.</span><span class="token builtin">open</span><span class="token punctuation">(</span>path<span class="token punctuation">)</span> <span class="token keyword">as</span> img<span class="token punctuation">:</span>
        <span class="token comment"># Resize with anti-aliasing</span>
        img <span class="token operator">=</span> img<span class="token punctuation">.</span>resize<span class="token punctuation">(</span>size<span class="token punctuation">,</span> Image<span class="token punctuation">.</span>LANCZOS<span class="token punctuation">)</span>

        <span class="token comment"># Rotate around center</span>
        <span class="token keyword">if</span> rotation<span class="token punctuation">:</span>
            img <span class="token operator">=</span> img<span class="token punctuation">.</span>rotate<span class="token punctuation">(</span>rotation<span class="token punctuation">,</span> expand<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">)</span>

        <span class="token comment"># Auto-crop empty edges</span>
        img <span class="token operator">=</span> img<span class="token punctuation">.</span>crop<span class="token punctuation">(</span>img<span class="token punctuation">.</span>getbbox<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

        <span class="token keyword">return</span> img</code><button class="docsify-copy-code-button"><span class="label">Copy to clipboard</span><span class="error" aria-hidden="hidden">Error</span><span class="success" aria-hidden="hidden">Copied</span><span aria-live="polite"></span></button></pre><h3 id="color-and-enhancement"><a href="https://tds.s-anand.net/#/transforming-images?id=color-and-enhancement" data-id="color-and-enhancement" class="anchor"><span>Color and Enhancement</span></a></h3><p>Adjust image appearance with built-in enhancement tools:</p><pre v-pre="" data-lang="python" class="language-python"><code class="lang-python language-python"><span class="token keyword">from</span> PIL <span class="token keyword">import</span> ImageEnhance<span class="token punctuation">,</span> ImageOps

<span class="token keyword">async</span> <span class="token keyword">def</span> <span class="token function">enhance_image</span><span class="token punctuation">(</span>
    img<span class="token punctuation">:</span> Image<span class="token punctuation">.</span>Image<span class="token punctuation">,</span>
    brightness<span class="token punctuation">:</span> <span class="token builtin">float</span> <span class="token operator">=</span> <span class="token number">1.0</span><span class="token punctuation">,</span>
    contrast<span class="token punctuation">:</span> <span class="token builtin">float</span> <span class="token operator">=</span> <span class="token number">1.0</span><span class="token punctuation">,</span>
    saturation<span class="token punctuation">:</span> <span class="token builtin">float</span> <span class="token operator">=</span> <span class="token number">1.0</span>
<span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">&gt;</span> Image<span class="token punctuation">.</span>Image<span class="token punctuation">:</span>
    <span class="token triple-quoted-string string">"""Apply color enhancements to image."""</span>
    enhancers <span class="token operator">=</span> <span class="token punctuation">[</span>
        <span class="token punctuation">(</span>ImageEnhance<span class="token punctuation">.</span>Brightness<span class="token punctuation">,</span> brightness<span class="token punctuation">)</span><span class="token punctuation">,</span>
        <span class="token punctuation">(</span>ImageEnhance<span class="token punctuation">.</span>Contrast<span class="token punctuation">,</span> contrast<span class="token punctuation">)</span><span class="token punctuation">,</span>
        <span class="token punctuation">(</span>ImageEnhance<span class="token punctuation">.</span>Color<span class="token punctuation">,</span> saturation<span class="token punctuation">)</span>
    <span class="token punctuation">]</span>

    <span class="token keyword">for</span> Enhancer<span class="token punctuation">,</span> factor <span class="token keyword">in</span> enhancers<span class="token punctuation">:</span>
        <span class="token keyword">if</span> factor <span class="token operator">!=</span> <span class="token number">1.0</span><span class="token punctuation">:</span>
            img <span class="token operator">=</span> Enhancer<span class="token punctuation">(</span>img<span class="token punctuation">)</span><span class="token punctuation">.</span>enhance<span class="token punctuation">(</span>factor<span class="token punctuation">)</span>

    <span class="token keyword">return</span> img</code><button class="docsify-copy-code-button"><span class="label">Copy to clipboard</span><span class="error" aria-hidden="hidden">Error</span><span class="success" aria-hidden="hidden">Copied</span><span aria-live="polite"></span></button></pre><h3 id="filters-and-effects"><a href="https://tds.s-anand.net/#/transforming-images?id=filters-and-effects" data-id="filters-and-effects" class="anchor"><span>Filters and Effects</span></a></h3><p>Apply visual effects and filters to images:</p><pre v-pre="" data-lang="python" class="language-python"><code class="lang-python language-python"><span class="token keyword">from</span> PIL <span class="token keyword">import</span> ImageFilter

<span class="token keyword">def</span> <span class="token function">apply_effects</span><span class="token punctuation">(</span>img<span class="token punctuation">:</span> Image<span class="token punctuation">.</span>Image<span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">&gt;</span> Image<span class="token punctuation">.</span>Image<span class="token punctuation">:</span>
    <span class="token triple-quoted-string string">"""Apply various filters and effects."""</span>
    effects <span class="token operator">=</span> <span class="token punctuation">{</span>
        <span class="token string">'blur'</span><span class="token punctuation">:</span> ImageFilter<span class="token punctuation">.</span>GaussianBlur<span class="token punctuation">(</span>radius<span class="token operator">=</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        <span class="token string">'sharpen'</span><span class="token punctuation">:</span> ImageFilter<span class="token punctuation">.</span>SHARPEN<span class="token punctuation">,</span>
        <span class="token string">'edge'</span><span class="token punctuation">:</span> ImageFilter<span class="token punctuation">.</span>FIND_EDGES<span class="token punctuation">,</span>
        <span class="token string">'emboss'</span><span class="token punctuation">:</span> ImageFilter<span class="token punctuation">.</span>EMBOSS
    <span class="token punctuation">}</span>

    <span class="token keyword">return</span> <span class="token punctuation">{</span>name<span class="token punctuation">:</span> img<span class="token punctuation">.</span><span class="token builtin">filter</span><span class="token punctuation">(</span>effect<span class="token punctuation">)</span>
            <span class="token keyword">for</span> name<span class="token punctuation">,</span> effect <span class="token keyword">in</span> effects<span class="token punctuation">.</span>items<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">}</span></code><button class="docsify-copy-code-button"><span class="label">Copy to clipboard</span><span class="error" aria-hidden="hidden">Error</span><span class="success" aria-hidden="hidden">Copied</span><span aria-live="polite"></span></button></pre><h3 id="drawing-and-text"><a href="https://tds.s-anand.net/#/transforming-images?id=drawing-and-text" data-id="drawing-and-text" class="anchor"><span>Drawing and Text</span></a></h3><p>Add text, shapes, and overlays to images:</p><pre v-pre="" data-lang="python" class="language-python"><code class="lang-python language-python"><span class="token keyword">from</span> PIL <span class="token keyword">import</span> Image<span class="token punctuation">,</span> ImageDraw<span class="token punctuation">,</span> ImageFont

<span class="token keyword">async</span> <span class="token keyword">def</span> <span class="token function">add_watermark</span><span class="token punctuation">(</span>
    img<span class="token punctuation">:</span> Image<span class="token punctuation">.</span>Image<span class="token punctuation">,</span>
    text<span class="token punctuation">:</span> <span class="token builtin">str</span><span class="token punctuation">,</span>
    font_size<span class="token punctuation">:</span> <span class="token builtin">int</span> <span class="token operator">=</span> <span class="token number">30</span>
<span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">&gt;</span> Image<span class="token punctuation">.</span>Image<span class="token punctuation">:</span>
    <span class="token triple-quoted-string string">"""Add text watermark to image."""</span>
    draw <span class="token operator">=</span> ImageDraw<span class="token punctuation">.</span>Draw<span class="token punctuation">(</span>img<span class="token punctuation">)</span>
    font <span class="token operator">=</span> ImageFont<span class="token punctuation">.</span>truetype<span class="token punctuation">(</span><span class="token string">"arial.ttf"</span><span class="token punctuation">,</span> font_size<span class="token punctuation">)</span>

    <span class="token comment"># Calculate text size and position</span>
    text_bbox <span class="token operator">=</span> draw<span class="token punctuation">.</span>textbbox<span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">,</span> text<span class="token punctuation">,</span> font<span class="token operator">=</span>font<span class="token punctuation">)</span>
    text_width <span class="token operator">=</span> text_bbox<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span> <span class="token operator">-</span> text_bbox<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span>
    text_height <span class="token operator">=</span> text_bbox<span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">]</span> <span class="token operator">-</span> text_bbox<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span>

    <span class="token comment"># Position text at bottom-right</span>
    x <span class="token operator">=</span> img<span class="token punctuation">.</span>width <span class="token operator">-</span> text_width <span class="token operator">-</span> <span class="token number">10</span>
    y <span class="token operator">=</span> img<span class="token punctuation">.</span>height <span class="token operator">-</span> text_height <span class="token operator">-</span> <span class="token number">10</span>

    <span class="token comment"># Add text with shadow</span>
    draw<span class="token punctuation">.</span>text<span class="token punctuation">(</span><span class="token punctuation">(</span>x<span class="token operator">+</span><span class="token number">2</span><span class="token punctuation">,</span> y<span class="token operator">+</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">,</span> text<span class="token punctuation">,</span> font<span class="token operator">=</span>font<span class="token punctuation">,</span> fill<span class="token operator">=</span><span class="token string">'black'</span><span class="token punctuation">)</span>
    draw<span class="token punctuation">.</span>text<span class="token punctuation">(</span><span class="token punctuation">(</span>x<span class="token punctuation">,</span> y<span class="token punctuation">)</span><span class="token punctuation">,</span> text<span class="token punctuation">,</span> font<span class="token operator">=</span>font<span class="token punctuation">,</span> fill<span class="token operator">=</span><span class="token string">'white'</span><span class="token punctuation">)</span>

    <span class="token keyword">return</span> img</code><button class="docsify-copy-code-button"><span class="label">Copy to clipboard</span><span class="error" aria-hidden="hidden">Error</span><span class="success" aria-hidden="hidden">Copied</span><span aria-live="polite"></span></button></pre><h3 id="memory-efficient-processing"><a href="https://tds.s-anand.net/#/transforming-images?id=memory-efficient-processing" data-id="memory-efficient-processing" class="anchor"><span>Memory-Efficient Processing</span></a></h3><p>Handle large images without loading them entirely into memory:</p><pre v-pre="" data-lang="python" class="language-python"><code class="lang-python language-python"><span class="token keyword">from</span> PIL <span class="token keyword">import</span> Image
<span class="token keyword">import</span> os

<span class="token keyword">async</span> <span class="token keyword">def</span> <span class="token function">process_large_images</span><span class="token punctuation">(</span>
    input_dir<span class="token punctuation">:</span> <span class="token builtin">str</span><span class="token punctuation">,</span>
    output_dir<span class="token punctuation">:</span> <span class="token builtin">str</span><span class="token punctuation">,</span>
    max_size<span class="token punctuation">:</span> <span class="token builtin">tuple</span><span class="token punctuation">[</span><span class="token builtin">int</span><span class="token punctuation">,</span> <span class="token builtin">int</span><span class="token punctuation">]</span>
<span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">&gt;</span> <span class="token boolean">None</span><span class="token punctuation">:</span>
    <span class="token triple-quoted-string string">"""Process multiple large images efficiently."""</span>
    os<span class="token punctuation">.</span>makedirs<span class="token punctuation">(</span>output_dir<span class="token punctuation">,</span> exist_ok<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">)</span>

    <span class="token keyword">for</span> filename <span class="token keyword">in</span> os<span class="token punctuation">.</span>listdir<span class="token punctuation">(</span>input_dir<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">if</span> <span class="token keyword">not</span> filename<span class="token punctuation">.</span>lower<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>endswith<span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token string">'.png'</span><span class="token punctuation">,</span> <span class="token string">'.jpg'</span><span class="token punctuation">,</span> <span class="token string">'.jpeg'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
            <span class="token keyword">continue</span>

        input_path <span class="token operator">=</span> os<span class="token punctuation">.</span>path<span class="token punctuation">.</span>join<span class="token punctuation">(</span>input_dir<span class="token punctuation">,</span> filename<span class="token punctuation">)</span>
        output_path <span class="token operator">=</span> os<span class="token punctuation">.</span>path<span class="token punctuation">.</span>join<span class="token punctuation">(</span>output_dir<span class="token punctuation">,</span> filename<span class="token punctuation">)</span>

        <span class="token keyword">with</span> Image<span class="token punctuation">.</span><span class="token builtin">open</span><span class="token punctuation">(</span>input_path<span class="token punctuation">)</span> <span class="token keyword">as</span> img<span class="token punctuation">:</span>
            <span class="token comment"># Process in chunks using thumbnail</span>
            img<span class="token punctuation">.</span>thumbnail<span class="token punctuation">(</span>max_size<span class="token punctuation">)</span>
            img<span class="token punctuation">.</span>save<span class="token punctuation">(</span>output_path<span class="token punctuation">,</span> optimize<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">)</span></code><button class="docsify-copy-code-button"><span class="label">Copy to clipboard</span><span class="error" aria-hidden="hidden">Error</span><span class="success" aria-hidden="hidden">Copied</span><span aria-live="polite"></span></button></pre><p>Practice with these resources:</p><ul><li><a href="https://pillow.readthedocs.io/" target="_blank" rel="noopener">Pillow Documentation</a>: Complete API reference</li><li><a href="https://realpython.com/image-processing-with-the-python-pillow-library/" target="_blank" rel="noopener">Python Image Processing Tutorial</a>: In-depth guide</li><li><a href="https://www.kaggle.com/datasets/lamsimon/celebs" target="_blank" rel="noopener">Sample Images Dataset</a>: Test images for practice</li></ul><p>Watch these tutorials for hands-on demonstrations:</p><p><a href="https://youtu.be/dkp4wUhCwR4" target="_blank" rel="noopener"><img src="./Transforming Images_files/sddefault(1).webp" data-origin="https://i.ytimg.com/vi_webp/dkp4wUhCwR4/sddefault.webp" alt="Image Processing Tutorial for beginners with Python PIL in 30 mins"></a></p><h3 id="image-processing-with-imagemagick"><a href="https://tds.s-anand.net/#/transforming-images?id=image-processing-with-imagemagick" data-id="image-processing-with-imagemagick" class="anchor"><span>Image Processing with ImageMagick</span></a></h3><p><a href="https://imagemagick.org/" target="_blank" rel="noopener">ImageMagick</a> is a powerful command-line tool for image manipulation, offering features beyond what’s possible with Python libraries. It’s particularly useful for:</p><ul><li>Batch processing large image collections</li><li>Complex image transformations</li><li>High-quality format conversion</li><li>Creating image thumbnails</li><li>Adding text and watermarks</li></ul><p>Basic Operations:</p><pre v-pre="" data-lang="bash" class="language-bash"><code class="lang-bash language-bash"><span class="token comment"># Format conversion</span>
convert input.png output.jpg

<span class="token comment"># Resize image (maintains aspect ratio)</span>
convert input.jpg <span class="token parameter variable">-resize</span> 800x600 output.jpg

<span class="token comment"># Compress image quality</span>
convert input.jpg <span class="token parameter variable">-quality</span> <span class="token number">85</span> output.jpg

<span class="token comment"># Rotate image</span>
convert input.jpg <span class="token parameter variable">-rotate</span> <span class="token number">90</span> output.jpg</code><button class="docsify-copy-code-button"><span class="label">Copy to clipboard</span><span class="error" aria-hidden="hidden">Error</span><span class="success" aria-hidden="hidden">Copied</span><span aria-live="polite"></span></button></pre><p>Common Data Science Tasks:</p><pre v-pre="" data-lang="bash" class="language-bash"><code class="lang-bash language-bash"><span class="token comment"># Create thumbnails for dataset preview</span>
convert input.jpg <span class="token parameter variable">-thumbnail</span> 200x200^ <span class="token parameter variable">-gravity</span> center <span class="token parameter variable">-extent</span> 200x200 thumb.jpg

<span class="token comment"># Normalize image for ML training</span>
convert input.jpg <span class="token parameter variable">-normalize</span> <span class="token parameter variable">-strip</span> output.jpg

<span class="token comment"># Extract dominant colors</span>
convert input.jpg <span class="token parameter variable">-colors</span> <span class="token number">5</span> -unique-colors txt:

<span class="token comment"># Generate image statistics</span>
identify <span class="token parameter variable">-verbose</span> input.jpg <span class="token operator">|</span> <span class="token function">grep</span> <span class="token parameter variable">-E</span> <span class="token string">"Mean|Standard|Kurtosis"</span></code><button class="docsify-copy-code-button"><span class="label">Copy to clipboard</span><span class="error" aria-hidden="hidden">Error</span><span class="success" aria-hidden="hidden">Copied</span><span aria-live="polite"></span></button></pre><p>Batch Processing:</p><pre v-pre="" data-lang="bash" class="language-bash"><code class="lang-bash language-bash"><span class="token comment"># Convert all images in a directory</span>
mogrify <span class="token parameter variable">-format</span> jpg *.png

<span class="token comment"># Resize multiple images</span>
mogrify <span class="token parameter variable">-resize</span> 800x600 <span class="token parameter variable">-path</span> output/ *.jpg

<span class="token comment"># Add watermark to images</span>
<span class="token keyword">for</span> <span class="token for-or-select variable">f</span> <span class="token keyword">in</span> *.jpg<span class="token punctuation">;</span> <span class="token keyword">do</span>
    convert <span class="token string">"<span class="token variable">$f</span>"</span> <span class="token parameter variable">-gravity</span> southeast <span class="token parameter variable">-draw</span> <span class="token string">"text 10,10 'Copyright'"</span> <span class="token string">"watermarked/<span class="token variable">$f</span>"</span>
<span class="token keyword">done</span></code><button class="docsify-copy-code-button"><span class="label">Copy to clipboard</span><span class="error" aria-hidden="hidden">Error</span><span class="success" aria-hidden="hidden">Copied</span><span aria-live="polite"></span></button></pre><p>Advanced Features:</p><pre v-pre="" data-lang="bash" class="language-bash"><code class="lang-bash language-bash"><span class="token comment"># Apply image effects</span>
convert input.jpg <span class="token parameter variable">-blur</span> 0x3 blurred.jpg
convert input.jpg <span class="token parameter variable">-sharpen</span> 0x3 sharp.jpg
convert input.jpg <span class="token parameter variable">-edge</span> <span class="token number">1</span> edges.jpg

<span class="token comment"># Create image montage</span>
montage *.jpg <span class="token parameter variable">-geometry</span> 200x200+2+2 montage.jpg

<span class="token comment"># Extract image channels</span>
convert input.jpg <span class="token parameter variable">-separate</span> channels_%d.jpg

<span class="token comment"># Composite images</span>
composite overlay.png <span class="token parameter variable">-gravity</span> center base.jpg output.jpg</code><button class="docsify-copy-code-button"><span class="label">Copy to clipboard</span><span class="error" aria-hidden="hidden">Error</span><span class="success" aria-hidden="hidden">Copied</span><span aria-live="polite"></span></button></pre><p>Watch this ImageMagick tutorial (16 min):</p><p><a href="https://youtu.be/wjcBOoReYc0" target="_blank" rel="noopener"><img src="./Transforming Images_files/sddefault(2).webp" data-origin="https://i.ytimg.com/vi_webp/wjcBOoReYc0/sddefault.webp" alt="ImageMagick Introduction (16 min)"></a></p><p>Tools:</p><ul><li><a href="http://www.fmwconcepts.com/imagemagick/" target="_blank" rel="noopener">Fred’s ImageMagick Scripts</a>: Useful script collection</li><li><a href="https://magickstudio.imagemagick.org/" target="_blank" rel="noopener">ImageMagick Online Studio</a>: Visual command builder</li></ul><p>Tips:</p><ol><li>Use <code>-strip</code> to remove metadata and reduce file size</li><li>Monitor memory usage with <code>-limit memory 1GB</code></li><li>Use <code>-define</code> for format-specific options</li><li>Process in parallel with <code>-parallel</code></li><li>Use <code>-monitor</code> to track progress</li></ol><p>Error Handling:</p><pre v-pre="" data-lang="bash" class="language-bash"><code class="lang-bash language-bash"><span class="token comment"># Check image validity</span>
identify -regard-warnings input.jpg

<span class="token comment"># Get detailed error information</span>
convert input.jpg output.jpg <span class="token operator"><span class="token file-descriptor important">2</span>&gt;</span><span class="token file-descriptor important">&amp;1</span> <span class="token operator">|</span> <span class="token function">grep</span> <span class="token parameter variable">-i</span> <span class="token string">"error"</span>

<span class="token comment"># Set resource limits</span>
convert <span class="token parameter variable">-limit</span> memory 1GB <span class="token parameter variable">-limit</span> map 2GB input.jpg output.jpg</code><button class="docsify-copy-code-button"><span class="label">Copy to clipboard</span><span class="error" aria-hidden="hidden">Error</span><span class="success" aria-hidden="hidden">Copied</span><span aria-live="polite"></span></button></pre><p>For Python integration:</p><pre v-pre="" data-lang="python" class="language-python"><code class="lang-python language-python"><span class="token comment"># /// script</span>
<span class="token comment"># requires-python = "&gt;=3.9"</span>
<span class="token comment"># dependencies = ["Wand"]</span>
<span class="token comment"># ///</span>

<span class="token keyword">from</span> wand<span class="token punctuation">.</span>image <span class="token keyword">import</span> Image

<span class="token keyword">async</span> <span class="token keyword">def</span> <span class="token function">process_image</span><span class="token punctuation">(</span>path<span class="token punctuation">:</span> <span class="token builtin">str</span><span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">&gt;</span> <span class="token boolean">None</span><span class="token punctuation">:</span>
    <span class="token triple-quoted-string string">"""Process image with ImageMagick via Wand."""</span>
    <span class="token keyword">with</span> Image<span class="token punctuation">(</span>filename<span class="token operator">=</span>path<span class="token punctuation">)</span> <span class="token keyword">as</span> img<span class="token punctuation">:</span>
        <span class="token comment"># Basic operations</span>
        img<span class="token punctuation">.</span>resize<span class="token punctuation">(</span><span class="token number">800</span><span class="token punctuation">,</span> <span class="token number">600</span><span class="token punctuation">)</span>
        img<span class="token punctuation">.</span>normalize<span class="token punctuation">(</span><span class="token punctuation">)</span>

        <span class="token comment"># Apply effects</span>
        img<span class="token punctuation">.</span>sharpen<span class="token punctuation">(</span>radius<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">,</span> sigma<span class="token operator">=</span><span class="token number">3</span><span class="token punctuation">)</span>

        <span class="token comment"># Save with compression</span>
        img<span class="token punctuation">.</span>save<span class="token punctuation">(</span>filename<span class="token operator">=</span><span class="token string">'output.jpg'</span><span class="token punctuation">)</span></code><button class="docsify-copy-code-button"><span class="label">Copy to clipboard</span><span class="error" aria-hidden="hidden">Error</span><span class="success" aria-hidden="hidden">Copied</span><span aria-live="polite"></span></button></pre><p>Note: Always install ImageMagick before using the Wand Python binding.</p><div class="docsify-pagination-container">
        <div class="pagination-item pagination-item--previous">
          <a href="https://tds.s-anand.net/#/dbt">
            <div class="pagination-item-label">
              <svg width="10" height="16" viewBox="0 0 10 16" xmlns="http://www.w3.org/2000/svg">
                <polyline fill="none" vector-effect="non-scaling-stroke" points="8,2 2,8 8,14"></polyline>
              </svg>
              <span>Previous</span>
            </div>
            <div class="pagination-item-title">Data Transformation with dbt</div>
      <div class="pagination-item-subtitle"></div></a>
        </div>
      
        <div class="pagination-item pagination-item--next">
          <a href="https://tds.s-anand.net/#/extracting-audio-and-transcripts">
            <div class="pagination-item-label">
              <span>Next</span>
              <svg width="10" height="16" viewBox="0 0 10 16" xmlns="http://www.w3.org/2000/svg">
                <polyline fill="none" vector-effect="non-scaling-stroke" points="2,2 8,8 2,14"></polyline>
              </svg>
            </div>
            <div class="pagination-item-title">Extracting Audio and Transcripts</div>
      <div class="pagination-item-subtitle"></div></a>
        </div>
      </div></article></section></main>
  <script>
    window.$docsify = {
      name: 'Tools in Data Science',
      subMaxLevel: 2,
      themeColor: '#dc3545',
      loadSidebar: true,
      sidebarDisplayLevel: 0,
      pagination: {
        previousText: 'Previous',
        nextText: 'Next',
        crossChapter: true,
        crossChapterText: true
      },
    };

  </script>
  <script src="./Transforming Images_files/docsify@4"></script>
  <script src="./Transforming Images_files/search.js.download"></script>
  <script src="./Transforming Images_files/zoom-image.min.js.download"></script>
  <script src="./Transforming Images_files/docsify-pagination.min.js.download"></script>
  <script src="./Transforming Images_files/docsify-themeable.min.js.download"></script>
  <script src="./Transforming Images_files/docsify-copy-code.min.js.download"></script>
  <script src="./Transforming Images_files/docsify-sidebar-collapse.min.js.download"></script>
  <script src="./Transforming Images_files/prism-bash.min.js.download"></script>
  <script src="./Transforming Images_files/prism-python.min.js.download"></script>
  <script src="./Transforming Images_files/prism-sql.min.js.download"></script>
  <script src="./Transforming Images_files/prism-yaml.min.js.download"></script>
  <script src="./Transforming Images_files/prism-json.min.js.download"></script>
  <script src="./Transforming Images_files/prism-markdown.min.js.download"></script>



<div class="progress" style="opacity: 0; width: 0%;"></div></body><grammarly-desktop-integration data-grammarly-shadow-root="true"><template shadowrootmode="open"><style>
      div.grammarly-desktop-integration {
        position: absolute;
        width: 1px;
        height: 1px;
        padding: 0;
        margin: -1px;
        overflow: hidden;
        clip: rect(0, 0, 0, 0);
        white-space: nowrap;
        border: 0;
        -moz-user-select: none;
        -webkit-user-select: none;
        -ms-user-select:none;
        user-select:none;
      }

      div.grammarly-desktop-integration:before {
        content: attr(data-content);
      }
    </style><div aria-label="grammarly-integration" role="group" tabindex="-1" class="grammarly-desktop-integration" data-content="{&quot;mode&quot;:&quot;full&quot;,&quot;isActive&quot;:true,&quot;isUserDisabled&quot;:false}"></div></template></grammarly-desktop-integration></html>